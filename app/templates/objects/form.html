{% extends "base.html" %}
{% block content %}
  <h2 class="text-lg font-semibold mb-4">{{ 'Edit' if item else 'New' }} Object</h2>
  <form method="post" action="{{ '/objects/' + item.id if item else '/objects' }}" class="space-y-3">
    <div>
      <label class="block text-sm">ID (human readable, immutable)</label>
      <input name="object_id" value="{{ item.id if item else '' }}" {% if item %}readonly{% endif %} class="border rounded px-3 py-2 w-full font-mono" required />
    </div>
    <div>
      <label class="block text-sm">Name</label>
      <input name="name" value="{{ item.name if item else '' }}" class="border rounded px-3 py-2 w-full" required />
    </div>
    <div>
      <label class="block text-sm">Description</label>
      <textarea name="description" class="border rounded px-3 py-2 w-full" rows="3">{{ item.description if item else '' }}</textarea>
    </div>
    <div>
      <label class="block text-sm">Images (comma separated URLs)</label>
      <input name="images" value="{{ ','.join(item.images) if item and item.images else '' }}" class="border rounded px-3 py-2 w-full" />
    </div>
    <div>
      <label class="block text-sm">Save Place</label>
      <select name="place_id" class="border rounded px-3 py-2 w-full">
        <option value="">(none)</option>
        {% for p in places %}
          <option value="{{ p.id }}" {% if item and item.place_id == p.id %}selected{% endif %}>{{ p.name }} ({{ p.id }})</option>
        {% endfor %}
      </select>
    </div>
    <div>
      <label class="block text-sm">Put At (ISO datetime)</label>
      <input name="put_at" value="{{ item.put_at.isoformat() if item and item.put_at else '' }}" class="border rounded px-3 py-2 w-full" />
    </div>
    <button type="submit" class="bg-blue-600 text-white px-4 py-2 rounded">Save</button>
  </form>
{% endblock %}